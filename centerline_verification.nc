%
O7998(PART_CENTERING)
(DESCRIPTION=PART_CENTERING)
(PROGRAMMER=SHAGGY)
(PROGRAM-VERSION=4)
(RUN-TIME=0-00-00)
(CUTTING-TIME=0-00-00)
(SECURITY-CLASS=2)
(PROGRAM-TYPE=0)
(PROGRAM-CLASS=1)
(DOWNLOAD-TARGET=0)
(DATE - NOV. 22 2016)
(TIME - 6:41 AM)
(NC FILE - C:\H+405 PROGRAM VAULT\MISC\PROBING\PART_CENTERING.NC)

( G65 P7998 X20.15 Q.04 )
( X - X WIDTH OF RAW STOCK )
( Q - ERROR ALLOWANCE )

#26=.25 ( HARDCODING Z CLEARANCE FOR PROBING )

( USE PASSED CENTERLINE TOLERANCE IF GIVEN )
( OTHERWISE DEFAULT TO 0.04" )
IF[#17 NE #0] GOTO10
#17=.04
N10 #17=ABS[#17]

( PROBE ON )
G65 P9832

( MOVE CLOSER TO PART )
( PROTECTED POSITIONING )
G65 P9810 Z2. M1.
IF[#148 NE 0] GOTO911 ( PATH OBSTRUCTION )

( TRY AND TOUCH SURFACE )
( IF NO TOUCH, JUMP TO Tnnn )
G229 Z-2.05 T910 ( DIDN'T TOUCH ANYTHING, SHIT! )

( MOVE CLOSER TO PART )
( PROTECTED POSITIONING )
G65 P9810 Z#26

( WEB MEASURE CYCLE, CHECKING WIDTH POSITION )
G65 P9812 X#24 Z-#26

( CHECK IF X CENTERLINE ERROR GT THAN ERROR ALLOWANCE )
IF[#145 GT #17] GOTO912

( MOVE ABOVE PART )
( PROTECTED POSITIONING )
G65 P9810 Z1.

( PROBE OFF )
( PROBE OFF )
G65 P9833

M107
M01 ( LOADED CORRECTLY, MAKE SOME CHIPS! )
M99




( --------------------------------- )
( CHECKS FAILED SOMEWHERE, END SUBS )
( --------------------------------- )
N910
M01 ( MATERIAL NOT FOUND! )
GOTO3000

N911
M01 ( THERE SHOULD BE... NO TOUCHING! )
GOTO3000

N912
M01 ( CENTERLINE OUT OF TOLERANCE )
GOTO3000



N3000
G91 G1 Z1. F50.
M107
( PROBE OFF )
G65 P9833
M30
%
